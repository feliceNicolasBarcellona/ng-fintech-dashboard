<form #cardForm="ngForm" (ngSubmit)="onSubmit(cardForm)">
  <h3>Add Card</h3>
  <mat-form-field appearance="fill">
    <mat-label>Card Type</mat-label>
    <mat-select type="text" name="type" #typeRef="ngModel" [ngModel] required>
      <mat-option *ngFor="let type of types" [value]="type">
        {{ type }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="typeRef.errors?.['required']">
      Card type is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <table cellSpacing="0">
    <tr>
      <td>
        <mat-form-field appearance="fill">
          <mat-label>Name</mat-label>
          <mat-icon color="primary" matPrefix class="icon"> person </mat-icon>
          <input
            matInput
            [ngModel]
            name="name"
            type="text"
            #emailRef="ngModel"
            required
          />
          <mat-error *ngIf="emailRef.errors?.['required']">
            Name is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
      <td>
        <mat-form-field appearance="fill">
          <mat-label>Surname</mat-label>
          <mat-icon color="primary" matPrefix class="icon"> person </mat-icon>
          <input
            matInput
            [ngModel]
            name="surname"
            type="text"
            #surnameRef="ngModel"
            required
          />
          <mat-error *ngIf="surnameRef.errors?.['required']">
            Surname is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
    </tr>
  </table>
  <mat-form-field appearance="fill">
    <mat-label>Card Number</mat-label>
    <mat-icon color="primary" matPrefix class="icon"> credit_card </mat-icon>
    <input
      matInput
      [ngModel]
      name="number"
      type="text"
      #numberRef="ngModel"
      required
      pattern="[0-9]{16}"
    />
    <mat-error *ngIf="numberRef.errors?.['required']">
      Card number is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="numberRef.errors?.['pattern']">
      Please Enter <strong>16-digit</strong> card number
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Security code</mat-label>
    <mat-icon color="primary" matPrefix class="icon"> credit_card </mat-icon>
    <input
      matInput
      [ngModel]
      name="cvc"
      type="text"
      #cvcRef="ngModel"
      required
      pattern="[0-9]{3}"
    />
    <mat-error *ngIf="cvcRef.errors?.['required']">
      Cvc is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="cvcRef.errors?.['pattern']">
      Please Enter <strong>3-digit</strong> cvc
    </mat-error>
  </mat-form-field>
  <button type="submit" mat-raised-button color="primary" (click)="addCard.emit()">Add Card</button>
  <button mat-stroked-button color="warn" type="button" (click)="this.cancel.emit()">Cancel</button>
</form>
